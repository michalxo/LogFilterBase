When translating hadoop-common project, file
hadoop-common/hadoop-tools/hadoop-streaming/src/main/java/org/apache/hadoop/streaming/StreamJob.java
contains variables at the end of the file! Move to the first class



FIX:

METHODS WITH SAME PARAMETER NAMES
public AbstractNamespace failed_to_set_setxincludeaware_true_for(String Exception, String docBuilderFactory, String Exception)
public AbstractNamespace getfilestatus_returning_directory_for_key_as_exists(String key, String key, String FOLDER_SUFFIX)
public AbstractNamespace is_deprecated_filesystem_name_use_hdfs_instead(String name, String name)


public AbstractNamespace ignoring_stale_result_from_old_client(String StringFormat_"0x%08x",ZooKeeper_ctx_GetSessionId_)

public AbstractNamespace launched_fencing_command_with(String cmd, boolean is(pid!=null))

public AbstractNamespace calls_recoverblock_targets_newgenerationstamp(String who, String block, String JoinerOn_", "_Join_targets_, String rbGetNewGenerationStamp)
public AbstractNamespace data_dir_states_n(String JoinerOn_"\n  "_WithKeyValueSeparator_": "_Join_dataDirStates_)

TERNARY OPERATOR
public AbstractNamespace finalizing_upgrade_for_storage_directory(String sdGetRoot, String _storageGetLayoutVersion==0?"":"\n   cur LV = "+storageGetLayoutVersion+"; cur CTime = "+storageGetCTime_)

public AbstractNamespace dataxceiver_error_processing_operation_src_dest(String Exception, String datanodeGetDisplayName, String op==null_?"unknown":opName_, String remoteAddress, String localAddress) {

public AbstractNamespace entry(String Exception, Map.Entry<String,DatanodeDescriptor> entry)

public AbstractNamespace error_failed_to_create_bookie_available(String KeeperExceptionCreate_code,path_GetMessage, String zkAvailablePath) {

public AbstractNamespace checkpoint_period_secs_min(String checkpointConfGetPeriod, String checkpointConfGetPeriod/60)

public AbstractNamespace failing_over_to_edit_log(String streams_curIdx+1_GetName)

public AbstractNamespace http_ugi(String opGetValueGetType, String op, String path, String ugi, String ParamToSortedString_", ",parameters_)



DO NOT GENERATE SAME METHOD TWICE (same types)
public AbstractNamespace cancelling(String DelegationTokenIdentifierStringifyToken_delToken_)
public AbstractNamespace cancelling(String DelegationTokenIdentifierStringifyToken_token_)


variable declaration related rules:

x memberDeclaration
x   fieldDeclarator
x   localVariableDeclaration
?   constantDeclarator
?   constDeclaration




==== In original java source code file change following ====
-- modify imports --
  import org.apache.commons.logging.Log;            *   depend on logging framework
  import org.apache.commons.logging.LogFactory;     *   depend on logging framework
  import cz.muni.fi.logger.LoggerFactory;           +
  import cz.muni.fi.logger.LogGlobal;               +
  import org.apache.hadoop.hdfs.nfs.NfsNamespace;   +?  autogenerated derived from file location or package, limited to depth o 6 (5+1 total) - changeable?


-- modify class members --
? private static final LogGlobal LOG_GLOBAL;                        +   add this default handler to pass through LOG.isXEnabled() checkers
  Log LOG = LogFactory.getLog(AsyncDataService.class)               *   depend on logging framework
  NfsNamespace LOG = LoggerFactory.getLogger(NfsNamespace.class);   +   generated using actual namespace


  Log should be found by 'contains("log")' and type of import comparision.

-- translate log statements --
  if (LOG.isDebugEnabled()) {
        LOG.debug("Current active thread number: " + executor.getActiveCount()
            + " queue size:" + executor.getQueue().size()
            + " scheduled task number:" + executor.getTaskCount());
  }
   -->
  if (LOG_GLOBAL.isDebugEnabled()) {
        LOG.CURRENT_ACTIVE_THREAD_NUMBER_QUEUE_SIZE_SCHEDULED(executor.getActiveCount(),
                executor.getQueue().size(), executor.getTaskCount()).tag("org.apache.hadoop.hdfs.nfs").debug();
  }


  Limit line output to 80 characters if possible +/-10
  Maximum of X words in LOG.METHOD_CALL_NAME (by default 7) log_generation_max_length

==== Generate new files based ====
  XNamespace.java file:

  location:
   original: /home/mtoth/skola/dp/hadoop-common/hadoop-hdfs-project/hadoop-hdfs-nfs/src/main/java/org/apache/hadoop/hdfs/nfs/nfs3/AsyncDataService.java
   modified:          /home/mtoth/Desktop/ngmon/hadoop-hdfs-project/hadoop-hdfs-nfs/src/main/java/org/apache/hadoop/hdfs/nfs/NfsNamespace.java (or to to other location?)

   "package org.apache.hadoop.hdfs.nfs;

    import cz.muni.fi.annotation.Namespace;
    import cz.muni.fi.logger.AbstractNamespace;

    @Namespace
    public class NfsNamespace extends AbstractNamespace {

    	public AbstractNamespace MOUNT_NULLOP_CLIENT(String client) {
    		return log(client);
    	}

    	...
    }"

  Associate LogGlobal classes into NGMON project - pseudoClass to handle checker calls of isLEVELEnabled() for default all turned ON.
  Turn on/off - configurable via ngmon property {all,debug,trace,error,fatal,warn}_logs_enabled={true,false}.


=== logging systems usedd in hadoop ===
    SLF4J:
org.slf4j.Logger;
org.slf4j.LoggerFactory;

    Apache Commons Logging:
org.apache.commons.logging.impl.Log4JLogger;
org.apache.commons.logging.Log;
org.apache.commons.logging.LogFactory;


    Apache Log4j:
spi and non spi logger
org.apache.log4j.{,spi.}Logger;
org.apache.log4j.Level;
org.apache.log4j.LogManager;
+ other